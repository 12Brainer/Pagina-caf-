<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Carrito de Compras - NeoPrado Caf√©</title>
  <link rel="stylesheet" href="style.css">
  <!-- Iconos de redes sociales -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

  <div id="main-nav"></div>

  <main class="shop-container">
    <h2 class="shop-title">Tu Carrito de Compras</h2>
    
    <div class="cart">
      <h3>Resumen de tu pedido</h3>
      <ul id="cartList">
        <!-- Los productos del carrito se insertar√°n aqu√≠ por JS -->
        <li>Tu carrito est√° vac√≠o.</li>
      </ul>
      <div class="totals">
        <div class="row"><span>Subtotal</span><span id="checkoutSubtotal">‚Ç°0</span></div>
        <div class="row"><span>Env√≠o</span><span id="checkoutShipping">‚Ç°0</span></div>
                <div class="row total"><span>Total</span><span id="cartTotal">‚Ç°0</span></div>
      </div>
    </div>

    <div class="checkout">
        <h2>Finalizar Compra</h2>
        <form id="checkoutForm">
          <div class="form-group">
            <label>M√©todo de entrega:</label>
            <div class="delivery-toggle" role="radiogroup" aria-label="M√©todo de entrega">
              <input type="radio" id="envio" name="entrega" value="Env√≠o por Correos de Costa Rica">
              <label for="envio" class="delivery-option"><span>üöö Env√≠o</span></label>

              <input type="radio" id="recoger" name="entrega" value="Recoger en tienda" checked>
              <label for="recoger" class="delivery-option"><span>üè† Retiro</span></label>
            </div>
          </div>
          <div class="form-group payment-section">
            <label>M√©todo de pago:</label>
            <div class="payment-toggle" role="radiogroup" aria-label="M√©todo de pago">
              <input type="radio" id="pago_sinpe" name="metodo_pago" value="SINPE M√≥vil" checked>
              <label for="pago_sinpe" class="payment-option"><span>SINPE M√≥vil</span><i class="fa-solid fa-mobile-screen-button"></i></label>

              <input type="radio" id="pago_efectivo" name="metodo_pago" value="Pago en Efectivo">
              <label for="pago_efectivo" class="payment-option"><span>Efectivo</span><i class="fa-solid fa-money-bill-wave"></i></label>
            </div>
            <p id="paymentHint" class="payment-hint">Por favor, env√≠e el comprobante de pago al mismo n√∫mero desde el que se le envi√≥ el mensaje de confirmaci√≥n.</p>
          </div>
          <div class="row">
            <div class="form-group">
              <label for="nombre">Nombre</label>
              <input type="text" id="nombre" name="nombre" required>
            </div>
            <div class="form-group">
              <label for="apellidos">Apellidos</label>
              <input type="text" id="apellidos" name="apellidos" required>
            </div>
          </div>
          <div class="form-group">
            <label for="telefono">Tel√©fono (WhatsApp):</label>
            <input type="tel" id="telefono" name="telefono" required>
          </div>
          <div class="form-group">
            <label for="email">Correo electr√≥nico (opcional):</label>
            <input type="email" id="email" name="email">
          </div>

          <!-- Secci√≥n de Env√≠o (visible solo si se selecciona "Env√≠o") -->
          <div id="shippingSection" class="shipping-section" style="display:none; margin-top: 0.75rem;">
            <div class="shipping-grid">
              <div class="form-group">
                <label for="pais">Pa√≠s / Regi√≥n</label>
                <select id="pais" name="pais">
                  <option value="Costa Rica" selected>Costa Rica</option>
                  <option value="Panam√°">Panam√°</option>
                  <option value="Nicaragua">Nicaragua</option>
                  <option value="Estados Unidos">Estados Unidos</option>
                </select>
              </div>

              <div class="form-group span-2">
                <label for="direccion">Direcci√≥n</label>
                <input type="text" id="direccion" name="direccion" placeholder="Calle, n√∫mero, referencia">
              </div>

              <div class="form-group span-2">
                <label for="linea2">Casa, apartamento, etc. (opcional)</label>
                <input type="text" id="linea2" name="linea2" placeholder="Edificio, apartamento, etc.">
              </div>

              <div class="form-group">
                <label for="provinciaEstado">Provincia / Estado</label>
                <select id="provinciaEstado" name="provinciaEstado">
                  <option value="">Selecciona...</option>
                  <option>San Jos√©</option>
                  <option>Alajuela</option>
                  <option>Cartago</option>
                  <option>Heredia</option>
                  <option>Puntarenas</option>
                  <option>Guanacaste</option>
                  <option>Lim√≥n</option>
                </select>
              </div>

              <div class="form-group">
                <label for="ciudad">Ciudad</label>
                <input type="text" id="ciudad" name="ciudad">
              </div>

              <div class="form-group">
                <label for="codigoPostal">C√≥digo postal (opcional)</label>
                <input type="text" id="codigoPostal" name="codigoPostal">
              </div>
            </div>

            <div class="notice notice-success" role="status" aria-live="polite">
              ‚úÖ Env√≠o GRATIS en pedidos mayores a ‚Ç°30,000 colones y en los alrededores de Tarraz√∫.
            </div>
          </div>

          <!-- Secci√≥n de Retiro (visible solo si se selecciona "Retiro") -->
          <div id="pickupSection" class="pickup-section" style="display:block; margin-top: 0.75rem;">
            <div class="pickup-card">
              <div class="pickup-card__content">
                <div class="pickup-card__title">Retiro en tienda</div>
                <p class="pickup-card__address">200 metros sureste del Recibidor de Coopetarrazu en San Lorenzo,<br>
                Tienda El Prado, San Lorenzo, Tarraz√∫,<br>
                San Jos√©, Costa Rica.</p>
                <p class="pickup-card__time">Normalmente est√° listo en 24 horas</p>
              </div>
              <div class="pickup-card__badge">GRATIS</div>
            </div>
          </div>

          <!-- Resumen de compra para invitados (se muestra solo si no hay sesi√≥n) -->
          <div id="guestSummary" class="guest-section" style="display:none; margin-top:1rem;">
            <h3 style="color: var(--color-secundario); margin-bottom:.5rem;">Compra como invitado</h3>
            <div class="form-group">
              <label for="guestProductos">Producto(s) comprados</label>
              <textarea id="guestProductos" rows="3" readonly></textarea>
            </div>
            <div class="form-group">
              <label for="guestMonto">Monto total</label>
              <input id="guestMonto" type="text" readonly />
            </div>
          </div>
        </form>
        <p>Al finalizar, ser√°s redirigido a WhatsApp para confirmar tu pedido con nosotros.</p>
        <button id="btnCheckout" class="btn btn-primary" style="width:100%; margin-top: 1rem;">
            <i class="fab fa-whatsapp"></i> Finalizar Compra por WhatsApp
        </button>
    </div>
  </main>

  <!-- Footer (simplificado para la p√°gina de pedidos) -->
  <footer class="site-footer">
    <div class="footer-bottom">
      <span>¬© 2025 NeoPrado Coffee ¬∑ Hecho en Zona de los Santos, Costa Rica</span>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="scripts/main.js" defer></script>
  <script src="scripts/products.js" defer></script>

<a href="Pedidos.html" class="floating-cart" aria-label="Abrir carrito">
  <i class="fas fa-shopping-cart"></i>
  <span class="cart-badge" style="display: none;">0</span>
</a>
</body>
</html>