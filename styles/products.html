<!DOCTYPE html>
<html lang="es-mx">
<head>
  <link rel="stylesheet" href="../styles/style.css">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Productos</title>
</head>
<body>
<header class="site-header">
  <div class="header-container">
    <!-- Logo y marca -->
    <div class="header-logo">
      <img src="../assets/logo.jpg" alt="Logo NeoPrado CafÃ©" class="logo">
      <div class="header-text">
        <h1>NeoPrado CafÃ©</h1>
        <p class="slogan">CafÃ© de Especialidad</p>
      </div>
    </div>

    <!-- MenÃº de navegaciÃ³n -->
    <nav class="header-nav">
      <ul>
        <li><a href="../index.html">Inicio</a></li>
        <li><a href="about.html">Sobre nosotros</a></li>
        <li><a href="products.html">Productos</a></li>
        <li><a href="../index.html#whatsapp">Pedidos</a></li>
        <li><a href="../index.html#contacto">Contacto</a></li>
      </ul>
    </nav>
  </div>
</header>

<!-- SECCIÃ“N DE PRODUCTOS -->
<section class="products">
  <h2>Nuestros CafÃ©s</h2>
  <div class="product-full">

    <!-- PREMIUM HONEY -->
<article class="product-detail" data-title="Premium Honey" data-img="../assets/honey.png">
  <h3>Premium Honey</h3>

  <div class="carousel">
    <div class="carousel-track">
      <img src="../assets/honey.png" alt="Empaque Honey" class="product-img">
      <img src="../assets/honey-finca.png" alt="Finca de origen" class="product-img">
      <img src="../assets/honey-grano.png" alt="Grano de cafÃ© Honey" class="product-img">
    </div>
    <button class="prev">&#10094;</button>
    <button class="next">&#10095;</button>
  </div>

  <p><strong>Proceso:</strong> Honey</p>
  <p><strong>Perfil de taza:</strong> Notas de miel de maple, acidez cÃ­trica brillante y dulzor prolongado.</p>
  <p><strong>Altitud:</strong> 1,700 m.s.n.m</p>
  <p><strong>Variedad:</strong> Caturra y Catuai</p>
  <p><strong>Tueste:</strong> Medio</p>
</article>

<!-- CAFÃ‰ LAVADO -->
<article class="product-detail" data-title="CafÃ© Lavado" data-img="../assets/lavado.png">
  <h3>CafÃ© Lavado</h3>

  <div class="carousel">
    <div class="carousel-track">
      <img src="../assets/lavado.png" alt="Empaque Lavado" class="product-img">
      <img src="../assets/lavado-finca.png" alt="Proceso Lavado" class="product-img">
      <img src="../assets/lavado-grano.png" alt="Grano de cafÃ© lavado" class="product-img">
    </div>
    <button class="prev">&#10094;</button>
    <button class="next">&#10095;</button>
  </div>

  <p><strong>Proceso:</strong> Lavado (Washed)</p>
  <p><strong>Perfil de taza:</strong> Cuerpo ligero, acidez brillante y sabor limpio.</p>
  <p><strong>Altitud:</strong> 1,650 m.s.n.m</p>
  <p><strong>Variedad:</strong> Caturra y Typica</p>
  <p><strong>Tueste:</strong> Medio</p>
</article>
  </div>
</section>

<!-- MODAL PRODUCTO -->
<div id="modalProducto" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <div class="modal-body">
      <div class="modal-img">
        <img id="modalImg" src="" alt="Producto">
      </div>
      <div class="modal-info">
        <h2 id="modalTitle">Nombre del CafÃ©</h2>
        <p id="modalPrice">Desde â‚¡3,900</p>
        <p class="envio">Los gastos de envÃ­o se calculan en la entrega.</p>
        <div class="stars">â˜…â˜…â˜…â˜…â˜…</div>

        <label>TamaÃ±o:
          <select id="modalSize">
            <option value="250" data-price="3900">250 g â€” â‚¡3,900</option>
            <option value="500" data-price="7000">500 g â€” â‚¡7,000</option>
          </select>
        </label>

        <label>Molienda:
          <select id="modalGrind">
            <option value="Grano">Grano / Whole Bean</option>
            <option value="Molido">Molido / Ground</option>
          </select>
        </label>

        <label>Cantidad:
          <input id="modalQty" type="number" min="1" value="1">
        </label>

        <div class="modal-buttons">
          <button id="btnAddCart" class="btn-outline">Agregar al carrito</button>
          <button id="btnBuyNow" class="btn-black">Comprar ahora</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- CARRITO -->
<section class="products">
  <div id="carritoModal" class="checkout">
    <h2>Tu Carrito</h2>
    <ul id="cartList"></ul>
    <p><strong>Total:</strong> <span id="cartTotal">â‚¡0</span></p>
    <button id="btnCheckout" class="btn-black">Finalizar pedido por WhatsApp</button>
  </div>
</section>

<script>
const modal = document.getElementById("modalProducto");
const closeBtn = document.querySelector(".close");
const modalImg = document.getElementById("modalImg");
const modalTitle = document.getElementById("modalTitle");
const modalPrice = document.getElementById("modalPrice");

const cart = [];
const cartList = document.getElementById("cartList");
const cartTotal = document.getElementById("cartTotal");

// CARRUSEL DE PRODUCTOS
document.querySelectorAll('.carousel').forEach(carousel => {
  const track = carousel.querySelector('.carousel-track');
  const images = carousel.querySelectorAll('img');
  const prevBtn = carousel.querySelector('.prev');
  const nextBtn = carousel.querySelector('.next');
  let index = 0;

  function showSlide(n) {
    index = (n + images.length) % images.length;
    track.style.transform = `translateX(-${index * 320}px)`; // ancho de img
  }

  prevBtn.addEventListener('click', () => showSlide(index - 1));
  nextBtn.addEventListener('click', () => showSlide(index + 1));
});


// Abrir modal
document.querySelectorAll(".product-detail").forEach(prod=>{
  prod.addEventListener("click", ()=>{
    modal.style.display = "block";
    modalImg.src = prod.dataset.img;
    modalTitle.textContent = prod.dataset.title;
    modalPrice.textContent = "Desde â‚¡3,900";
    document.getElementById("modalQty").value = 1;
  });
});

// Cerrar modal
closeBtn.onclick = ()=> modal.style.display="none";
window.onclick = e=> { if(e.target==modal) modal.style.display="none"; }

// Comprar ahora â†’ WhatsApp
document.getElementById("btnBuyNow").addEventListener("click", ()=>{
  const size = document.getElementById("modalSize").value;
  const grind = document.getElementById("modalGrind").value;
  const qty = document.getElementById("modalQty").value;
  const product = modalTitle.textContent;

  const msg = `Hola, quiero comprar: ${qty} x ${product} ${size}g (${grind})`;
  window.open(`https://wa.me/50683910511?text=${encodeURIComponent(msg)}`, "_blank");
});

// Agregar al carrito
document.getElementById("btnAddCart").addEventListener("click", ()=>{
  const size = document.getElementById("modalSize").value;
  const grind = document.getElementById("modalGrind").value;
  const qty = parseInt(document.getElementById("modalQty").value);
  const price = parseInt(document.getElementById("modalSize").selectedOptions[0].dataset.price);
  const product = modalTitle.textContent;

  const subtotal = price * qty;
  cart.push({product, size, grind, qty, subtotal});
  renderCart();
  modal.style.display="none";
});

function renderCart(){
  cartList.innerHTML = "";
  let total = 0;
  cart.forEach(item=>{
    total += item.subtotal;
    const li = document.createElement("li");
    li.textContent = `${item.qty} x ${item.product} ${item.size}g (${item.grind}) â€” â‚¡${item.subtotal}`;
    cartList.appendChild(li);
  });
  cartTotal.textContent = `â‚¡${total}`;
}

document.getElementById("btnCheckout").addEventListener("click", ()=>{
  if(cart.length === 0){
    alert("Tu carrito estÃ¡ vacÃ­o");
    return;
  }
  let msg = "ðŸ›’ *Nuevo pedido NeoPrado CafÃ©*%0A";
  let total = 0;
  cart.forEach(item=>{
    msg += `â€¢ ${item.qty} x ${item.product} ${item.size}g (${item.grind}) â€” â‚¡${item.subtotal}%0A`;
    total += item.subtotal;
  });
  msg += `%0ATotal: â‚¡${total}%0A`;
  msg += "Por favor confirmar disponibilidad.";
  window.open(`https://wa.me/50683910511?text=${msg}`, "_blank");
});
</script>

<footer class="site-footer">
  <div class="footer-grid">
    <div class="footer-col">
      <h3 class="footer-title">NeoPrado Coffee</h3>
      <p>CafÃ© 100% arÃ¡bica de Costa Rica. Tueste medio, micro-lotes y trazabilidad desde la finca.</p>
    </div>
    <div class="footer-col">
      <h4 class="footer-title-sm">Enlaces</h4>
      <ul class="footer-links">
        <li><a class="footer-link" href="../index.html#about">Sobre nosotros</a></li>
        <li><a class="footer-link" href="products.html">Productos</a></li>
        <li><a class="footer-link" href="../index.html#whatsapp">Pedidos</a></li>
        <li><a class="footer-link" href="../index.html#contacto">Contacto</a></li>
      </ul>
    </div>
    <div class="footer-col" id="contacto">
      <h4 class="footer-title-sm">Contacto</h4>
      <ul class="footer-contact">
        <li><i class="fa-solid fa-phone"></i> +506 8391-0511</li>
        <li><i class="fa-solid fa-envelope"></i> neopradocafe@gmail.com</li>
        <li><i class="fa-solid fa-location-dot"></i> San JosÃ©, Costa Rica</li>
        <li><i class="fa-regular fa-clock"></i> Lunâ€“Vie: 9amâ€“6pm</li>
      </ul>
    </div>
    <div class="footer-col">
      <h4 class="footer-title-sm">SÃ­guenos</h4>
      <div class="footer-social">
        <a class="presentacion__enlaces__link is-facebook" href="https://www.facebook.com/NeopradoCoffee" target="_blank">
          <i class="fab fa-facebook-f"></i> Facebook
        </a>
        <a class="presentacion__enlaces__link is-instagram" href="https://www.instagram.com/neopradocoffee" target="_blank">
          <i class="fab fa-instagram"></i> Instagram
        </a>
        <a class="presentacion__enlaces__link is-tiktok" href="https://www.tiktok.com/@neopradocaf%C3%A9" target="_blank">
          <i class="fab fa-tiktok"></i> TikTok
        </a>
      </div>
    </div>
  </div>
  <div class="footer-bottom">
    <span>Â© 2025 NeoPrado Coffee Â· Hecho en Zona de los Santos, Costa Rica</span>
  </div>
</footer>
</body>
</html>
